<link rel="import" href="/polymer/polymer.html">
<link rel="import" href="/login/accessibility-mixin.html">
<link rel="import" href="/login/login-dialog.html">

<dom-module id="login-test-element">
  <template>
    <style>
      :host {
        display: block;
        padding: 16px;
      }
    </style>
    <template is="dom-if" if="[[loggedIn]]">
      <h3>you are logged in</h2>
      <template is="dom-if" if="[[_loadFunctionCalled]]">
        <p>_load()-Function is called</p>
        <button on-click="signOut">sign out</button>
      </template>
    </template>
    <template is="dom-if" if="[[!loggedIn]]">
      <h3>you are not logged in</h3>
    </template>
    <button on-click="openLoginDialog">open login-dialog</button>
  </template>

  <script>
    /**
     * `test-element`
     *
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class TestElement extends WebvisualMixins.AccessibilityMixin(Polymer.Element) {

      static get is() { return 'login-test-element'; }

      static get properties() {
        return {
          _loadFunctionCalled: Boolean
        }
      }

      _load() {
        super._load();
        this._loadFunctionCalled = true;
      }

    }

    window.customElements.define(TestElement.is, TestElement);
  </script>
</dom-module>
